---
link: https://www.youtube.com/watch?v=AwXswDg-rKc
author: 
   
published: 2022-02-06T08:19:00
tags: []
---
# Highlights


---
# So You Think You Can Secure Your Cloud : Red Team Engagements in GCP | Pen Test HackFest Summit 2021
AWS and Azure cloud environments are the most widely used so naturally more research, tools, examples, and presentations have focused on these environments. However, what if your team (or you) need to assess a GCP environment? GCP documentation on using the environment isn't very intuitive. Therefore, when targeting a GCP environment for a red team engagement, it can prove very costly in terms of ramp up time, and the finished assessment can lack important insights and details. In this talk, we will address these problems by providing a detailed guide and examples on how to navigate Adversary Simulations through GCP. We will cover how to get an initial foothold, map to important objects, identify juicy permissions and leverage compromised account(s) to quickly zero in on critical targets with those permissions. GCP has thousands of IAM permissions and while this can be a daunting time waster, we don't need to learn about them all. We only need a small subset to achieve our objective. We will also demonstrate different methods that can be used to persist in GCP in a stealthy manner by abusing various resources. Based on how GCP is configured, a red teamer can run into issues with traditional C2 tools. In this scenario, we will show how you can successfully use Google's own products as Command & Control to bypass otherwise restricted C2 call backs. Next, we will show how to identify and leverage firewall rules of interest, as well as, the compute instances they are applied to and how to manipulate them when you don't find the firewall rules for the desired access. In closing, we will show how Cloud Key Management Service ( KMS ) integration works with Google Cloud Storage ( GCS ), as well as how to abuse it to decrypt and exfiltrate target data. Presenter: Madhav Bhatt, Offensive Security Engineer, Credit Karma https://www.sans.org/profiles/madhav-bhatt/ Presenter: Brad Richardson, Credit Karma https://www.sans.org/profiles/brad-richardson/ View upcoming Summits: http://www.sans.org/u/DuS Download the presentation slides (SANS account required) at https://www.sans.org/u/1iaE